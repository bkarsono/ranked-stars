const { createApp } = Vue;

createApp({
  data() {
    return {
      brawlerReleaseDates: {
        16000000: 0,
        16000001: 2,
        16000002: 3,
        16000003: 4,
        16000004: 13,
        16000005: 78,
        16000006: 6,
        16000007: 9,
        16000008: 1,
        16000009: 10,
        16000010: 5,
        16000011: 47,
        16000012: 79,
        16000013: 7,
        16000014: 19,
        16000015: 22,
        16000016: 23,
        16000017: 48,
        16000018: 14,
        16000019: 15,
        16000020: 24,
        16000021: 49,
        16000022: 11,
        16000023: 80,
        16000024: 8,
        16000025: 16,
        16000026: 25,
        16000027: 12,
        16000028: 81,
        16000029: 26,
        16000030: 20,
        16000031: 51,
        16000032: 50,
        16000034: 17,
        16000035: 32,
        16000036: 27,
        16000037: 52,
        16000038: 84,
        16000039: 33,
        16000040: 82,
        16000041: 55,
        16000042: 53,
        16000043: 28,
        16000044: 56,
        16000045: 21,
        16000046: 34,
        16000047: 54,
        16000048: 30,
        16000049: 57,
        16000050: 29,
        16000051: 35,
        16000052: 83,
        16000053: 36,
        16000054: 58,
        16000056: 59,
        16000057: 60,
        16000058: 31,
        16000059: 61,
        16000060: 37,
        16000061: 18,
        16000062: 62,
        16000063: 85,
        16000064: 63,
        16000065: 38,
        16000066: 64,
        16000067: 65,
        16000068: 39,
        16000069: 40,
        16000070: 86,
        16000071: 66,
        16000072: 41,
        16000073: 67,
        16000074: 68,
        16000075: 69,
        16000076: 87,
        16000077: 42,
        16000078: 70,
        16000079: 43,
        16000080: 88,
        16000081: 71,
        16000082: 44,
        16000083: 72,
        16000084: 73,
        16000085: 89,
        16000086: 45,
        16000087: 74,
        16000089: 46,
        16000090: 75,
        16000091: 76,
        16000092: 77,
        16000093: '?',
        16000094: 90,
      },
      brawlers: [],
    };
  },
  methods: {
    startGame() {
      fetch("https://api.brawlify.com/v1/brawlers", {
        headers: {
          "User-Agent": "ranked-stars.web.app",
        },
      })
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          console.log(data);
          let test = [];
          data.list.forEach((element) => {
            test.push({ id: element.id, name: element.name });
          });
          console.log(test);
          this.brawlers = data.list;
          this.brawlers = this.brawlers.filter((brawler) => brawler.released);
          this.brawlers.sort((a, b) => {
            if (a.rarity.id === b.rarity.id) {
              return this.brawlerReleaseDates[a.id] - this.brawlerReleaseDates[b.id];
            }
            return a.rarity.id - b.rarity.id;
          });
        })
        .catch((error) => console.log(error));
    },
  },
}).mount("#app");
