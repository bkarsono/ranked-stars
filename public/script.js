const { createApp } = Vue;

createApp({
  data() {
    return {
      brawlerReleaseDates: {
        16000000: 0,
        16000001: 2,
        16000002: 3,
        16000003: 4,
        16000004: 10,
        16000005: 13,
        16000006: 6,
        16000007: 8,
        16000008: 1,
        16000009: 9,
        16000010: 5,
        16000011: 12,
        16000012: 14,
        16000013: 7,
        16000014: 11,
        16000015: 15,
        16000016: 16,
        16000017: 17,
        16000018: 18,
        16000019: 19,
        16000020: 20,
        16000021: 22,
        16000022: 26,
        16000023: 21,
        16000024: 24,
        16000025: 23,
        16000026: 25,
        16000027: 27,
        16000028: 28,
        16000029: 30,
        16000030: 29,
        16000031: 32,
        16000032: 31,
        16000034: 33,
        16000035: 35,
        16000036: 36,
        16000037: 34,
        16000038: 37,
        16000039: 38,
        16000040: 39,
        16000041: 40,
        16000042: 41,
        16000043: 42,
        16000044: 43,
        16000045: 44,
        16000046: 45,
        16000047: 46,
        16000048: 52,
        16000049: 47,
        16000050: 48,
        16000051: 49,
        16000052: 50,
        16000053: 51,
        16000054: 53,
        16000056: 54,
        16000057: 55,
        16000058: 56,
        16000059: 57,
        16000060: 58,
        16000061: 59,
        16000062: 60,
        16000063: 61,
        16000064: 62,
        16000065: 63,
        16000066: 64,
        16000067: 65,
        16000068: 66,
        16000069: 67,
        16000070: 68,
        16000071: 69,
        16000072: 70,
        16000073: 71,
        16000074: 72,
        16000075: 73,
        16000076: 74,
        16000077: 75,
        16000078: 77,
        16000079: 76,
        16000080: 79,
        16000081: 78,
        16000082: 80,
        16000083: 81,
        16000084: 82,
        16000085: 83,
        16000086: 85,
        16000087: 84,
        16000089: 86,
        16000090: 87,
        16000091: 89,
        16000092: 88,
        16000093: 90,
        16000094: 91,
      },
      brawlers: [],
    };
  },
  methods: {
    startGame() {
      fetch("https://api.brawlify.com/v1/brawlers", {
        headers: {
          "User-Agent": "ranked-stars.web.app",
        },
      })
        .then((response) => {
          return response.json();
        })
        .then((data) => {
          console.log(data);
          this.brawlers = data.list;
          this.brawlers = this.brawlers.filter((brawler) => brawler.released);
          this.brawlers.sort((a, b) => {
            if (a.rarity.id === b.rarity.id) {
              return (
                this.brawlerReleaseDates[a.id] - this.brawlerReleaseDates[b.id]
              );
            }
            return a.rarity.id - b.rarity.id;
          });
        })
        .catch((error) => console.log(error));
    },
  },
}).mount("#app");
